<div class="group-input-fields-content" data-callback-render="render_services">
  <div class="clearfix">
    <div class="form-group">
      <label>Icon: </label>
      <input placeholder="Icon name"
             type="text"
             name="<%= field_name %>[<%= field.slug %>][values][][icon]"
             class="icon_field form-control"/>
    </div>
    <div class="form-group">
      <label>Title: </label>
      <input placeholder="Title"
             type="text"
             name="<%= field_name %>[<%= field.slug %>][values][][title]"
             class="title_field <%= 'is_translate' if field.options[:translate].to_s.to_bool %> form-control"/>
    </div>
    <div class="form-group">
      <label>Description: </label>
      <textarea id=""
                name="<%= field_name %>[<%= field.slug %>][values][][descr]"
                rows="8"
                class="descr_field form-control <%= 'is_translate' if field.options[:translate].to_s.to_bool %> input-value"></textarea>
    </div>
  </div>
  <div class="form-group">
    <label>Image:</label>
    <div class="input-group">
      <input data-dimension="<%= field.options[:dimension] %>" data-versions="<%= field.options[:versions] %>" data-thumb_size="<%= field.options[:thumb_size] %>" type="url" name="<%= field_name %>[<%= field.slug %>][values][][image]" class="data-error-place-parent image_field form-control <%= "required" if field.options[:required].to_s.to_bool %>"/>
      <span class="input-group-addon btn_upload" onclick="load_upload_image_field($(this).prev());"><i class="fa fa-upload"></i> <%= t('camaleon_cms.admin.button.upload_image')%> <%= "(#{field.get_option('dimension')})" if field.get_option('dimension').present? %></span>
    </div>
  </div>
</div>

<script>
  function render_services(panel, values){
    values = values && typeof values == 'object' ? values : $.parseJSON(values || '{}');
//    panel.find('.descr_field').val(values['descr']);
    panel.find('.title_field').val(values['title']);
    panel.find('.icon_field').val(values['icon']);
    panel.find('.image_field').val(values['image']);
    panel.find('.translatable').Translatable(ADMIN_TRANSLATIONS);

    initCustomFieldEditor(panel.find('.descr_field'), values['descr']);
  }
</script>